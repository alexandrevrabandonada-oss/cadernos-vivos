import type { CSSProperties } from "react";
import { getCaderno } from "@/lib/cadernos";
import Markdown from "@/components/Markdown";
import { CadernoHeader } from "@/components/CadernoHeader";
import NavPills from "@/components/NavPills";
type AccentStyle = CSSProperties & { ["--accent"]?: string };
export default async function Page({ params }: { params: Promise<{ slug: string }> }) {
  const { slug } = await params;
  const data = await getCaderno(slug);
  const s: AccentStyle = { ["--accent"]: data.meta.accent };
  return (
    <main className="space-y-5" style={s}>
      <CadernoHeader title={data.meta.title} subtitle={data.meta.subtitle} ethos={data.meta.ethos} />
      <NavPills slug={slug} />
      <div className="card p-5">
        <h2 className="text-xl font-semibold">Trilha</h2>
        <p className="muted mt-2">Leitura guiada: do panorama ao ch√£o da cidade. Sem excesso de burocracia.</p>
      </div>
      <div className="card p-5">
        {data.trilha ? <Markdown markdown={data.trilha} /> : <p className="muted">Sem trilha ainda. (Crie content/cadernos/[slug]/trilha.md)</p>}
      </div>
    </main>
  );
}